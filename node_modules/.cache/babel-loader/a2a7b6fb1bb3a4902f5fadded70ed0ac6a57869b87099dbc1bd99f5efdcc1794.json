{"ast":null,"code":"import _slicedToArray from\"/Users/bomendez/Documents/CS5610/Battleship/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'../square.css';import{boardClick}from'../actions/board';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{scryRenderedDOMComponentsWithTag}from'react-dom/test-utils';import{jsx as _jsx}from\"react/jsx-runtime\";export function Square(props){var user_board=useSelector(function(state){return state.BoardReducer.user_board;});var ai_board=useSelector(function(state){return state.BoardReducer.ai_board;});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),hover=_useState2[0],setHover=_useState2[1];var board_state;if(props.enemy){board_state=ai_board;}else{board_state=user_board;}var isFreePlay=useSelector(function(state){return state.BoardReducer.freePlay;});var dispatch=useDispatch();function setMouseEnter(){setHover(true);}function setMouseLeave(){setHover(false);}var colorClass='unclicked';var hoverClass='hoverClass';var icon=\"\";if(!props.enemy){if(props.is_boat){colorClass='ship';icon=\"fa fa-ship\";}}if(props.hit){colorClass='hitSquare';icon=\"fa fa-bomb\";}else if(props.miss){colorClass='clickedBox';icon=\"fa fa-check-square\";}function handleClick(){var unselected=board_state[props.row][props.col].unselected;if(unselected){var isHit=false;if(board_state[props.row][props.col].isBoat){isHit=true;}dispatch(boardClick(props.row,props.col,props.enemy,isHit,!isHit,!unselected));if(isHit){props.toIncrementScore(1);}else{props.toIncrementScore(0);}}}return/*#__PURE__*/_jsx(\"td\",{className:hover?hoverClass:colorClass,onClick:handleClick,onMouseEnter:setMouseEnter,onMouseLeave:setMouseLeave,children:/*#__PURE__*/_jsx(\"i\",{class:icon})});}","map":{"version":3,"names":["React","boardClick","useState","useDispatch","useSelector","scryRenderedDOMComponentsWithTag","jsx","_jsx","Square","props","user_board","state","BoardReducer","ai_board","_useState","_useState2","_slicedToArray","hover","setHover","board_state","enemy","isFreePlay","freePlay","dispatch","setMouseEnter","setMouseLeave","colorClass","hoverClass","icon","is_boat","hit","miss","handleClick","unselected","row","col","isHit","isBoat","toIncrementScore","className","onClick","onMouseEnter","onMouseLeave","children","class"],"sources":["/Users/bomendez/Documents/CS5610/Battleship/src/components/square.jsx"],"sourcesContent":["import React from 'react';\nimport '../square.css';\nimport { boardClick } from '../actions/board';\nimport { useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { scryRenderedDOMComponentsWithTag } from 'react-dom/test-utils';\n\n\n\nexport function Square(props) {\nconst user_board = useSelector(state => state.BoardReducer.user_board);\nconst ai_board = useSelector(state => state.BoardReducer.ai_board);\nconst [hover, setHover] = useState(false)\nlet board_state;\n  if(props.enemy){\n    board_state = ai_board;\n  }else{\n    board_state = user_board;\n  }\n\n    const isFreePlay = useSelector(state => state.BoardReducer.freePlay);\n    const dispatch = useDispatch();\n    \n\n    function setMouseEnter() {\n        setHover(true);\n    }\n\n    function setMouseLeave() {\n        setHover(false)\n    }\n\n    let colorClass='unclicked';\n    let hoverClass = 'hoverClass';\n\n    let icon = \"\";\n    if(!props.enemy){\n    if (props.is_boat) {\n        colorClass = 'ship';\n        icon = \"fa fa-ship\";\n    }\n    }\n\n    if (props.hit) {\n        colorClass = 'hitSquare';\n        icon = \"fa fa-bomb\";\n    } else if (props.miss) {\n        colorClass = 'clickedBox';\n        icon = \"fa fa-check-square\";\n    }\n\n    \n\n    function handleClick(){\n        \n        let unselected = board_state[props.row][props.col].unselected; \n        if(unselected){\n            let isHit = false;\n            if(board_state[props.row][props.col].isBoat){\n                isHit = true;\n            }\n            dispatch(boardClick(props.row, props.col, props.enemy, isHit, !isHit, !unselected))\n            if(isHit){\n                props.toIncrementScore(1);\n            }else{\n                props.toIncrementScore(0);\n            }\n        }\n    }\n\n    return (\n        <td  className={hover? hoverClass : colorClass} onClick={handleClick} onMouseEnter={setMouseEnter} onMouseLeave={setMouseLeave}>\n            {<i class={icon}></i>}\n        </td>\n    )\n\n}\n"],"mappings":"iIAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,eAAe,CACtB,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,gCAAgC,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAIxE,MAAO,SAAS,CAAAC,MAAMA,CAACC,KAAK,CAAE,CAC9B,GAAM,CAAAC,UAAU,CAAGN,WAAW,CAAC,SAAAO,KAAK,QAAI,CAAAA,KAAK,CAACC,YAAY,CAACF,UAAU,GAAC,CACtE,GAAM,CAAAG,QAAQ,CAAGT,WAAW,CAAC,SAAAO,KAAK,QAAI,CAAAA,KAAK,CAACC,YAAY,CAACC,QAAQ,GAAC,CAClE,IAAAC,SAAA,CAA0BZ,QAAQ,CAAC,KAAK,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAI,CAAAI,WAAW,CACb,GAAGV,KAAK,CAACW,KAAK,CAAC,CACbD,WAAW,CAAGN,QAAQ,CACxB,CAAC,IAAI,CACHM,WAAW,CAAGT,UAAU,CAC1B,CAEE,GAAM,CAAAW,UAAU,CAAGjB,WAAW,CAAC,SAAAO,KAAK,QAAI,CAAAA,KAAK,CAACC,YAAY,CAACU,QAAQ,GAAC,CACpE,GAAM,CAAAC,QAAQ,CAAGpB,WAAW,EAAE,CAG9B,QAAS,CAAAqB,aAAaA,CAAA,CAAG,CACrBN,QAAQ,CAAC,IAAI,CAAC,CAClB,CAEA,QAAS,CAAAO,aAAaA,CAAA,CAAG,CACrBP,QAAQ,CAAC,KAAK,CAAC,CACnB,CAEA,GAAI,CAAAQ,UAAU,CAAC,WAAW,CAC1B,GAAI,CAAAC,UAAU,CAAG,YAAY,CAE7B,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,GAAG,CAACnB,KAAK,CAACW,KAAK,CAAC,CAChB,GAAIX,KAAK,CAACoB,OAAO,CAAE,CACfH,UAAU,CAAG,MAAM,CACnBE,IAAI,CAAG,YAAY,CACvB,CACA,CAEA,GAAInB,KAAK,CAACqB,GAAG,CAAE,CACXJ,UAAU,CAAG,WAAW,CACxBE,IAAI,CAAG,YAAY,CACvB,CAAC,IAAM,IAAInB,KAAK,CAACsB,IAAI,CAAE,CACnBL,UAAU,CAAG,YAAY,CACzBE,IAAI,CAAG,oBAAoB,CAC/B,CAIA,QAAS,CAAAI,WAAWA,CAAA,CAAE,CAElB,GAAI,CAAAC,UAAU,CAAGd,WAAW,CAACV,KAAK,CAACyB,GAAG,CAAC,CAACzB,KAAK,CAAC0B,GAAG,CAAC,CAACF,UAAU,CAC7D,GAAGA,UAAU,CAAC,CACV,GAAI,CAAAG,KAAK,CAAG,KAAK,CACjB,GAAGjB,WAAW,CAACV,KAAK,CAACyB,GAAG,CAAC,CAACzB,KAAK,CAAC0B,GAAG,CAAC,CAACE,MAAM,CAAC,CACxCD,KAAK,CAAG,IAAI,CAChB,CACAb,QAAQ,CAACtB,UAAU,CAACQ,KAAK,CAACyB,GAAG,CAAEzB,KAAK,CAAC0B,GAAG,CAAE1B,KAAK,CAACW,KAAK,CAAEgB,KAAK,CAAE,CAACA,KAAK,CAAE,CAACH,UAAU,CAAC,CAAC,CACnF,GAAGG,KAAK,CAAC,CACL3B,KAAK,CAAC6B,gBAAgB,CAAC,CAAC,CAAC,CAC7B,CAAC,IAAI,CACD7B,KAAK,CAAC6B,gBAAgB,CAAC,CAAC,CAAC,CAC7B,CACJ,CACJ,CAEA,mBACI/B,IAAA,OAAKgC,SAAS,CAAEtB,KAAK,CAAEU,UAAU,CAAGD,UAAW,CAACc,OAAO,CAAER,WAAY,CAACS,YAAY,CAAEjB,aAAc,CAACkB,YAAY,CAAEjB,aAAc,CAAAkB,QAAA,cAC1HpC,IAAA,MAAGqC,KAAK,CAAEhB,IAAK,EAAK,EACpB,CAGb"},"metadata":{},"sourceType":"module","externalDependencies":[]}